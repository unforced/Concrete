name: "full-stack"
version: "1.0.0"
inherits: "base"
description: "A comprehensive template for building full-stack applications"
author: "Unforced"
license: "MIT"

customization_points:
  - name: "project_name"
    type: "string"
    default: "my-full-stack-app"
    description: "Name of the project"
    
  - name: "description"
    type: "string"
    default: "A full-stack application"
    description: "Brief description of the project"
    
  - name: "author"
    type: "string"
    default: "Your Name"
    description: "Author of the project"
    
  - name: "license"
    type: "string"
    options: ["MIT", "Apache-2.0", "GPL-3.0", "BSD-3-Clause", "Unlicense"]
    default: "MIT"
    description: "License for the project"
    
  - name: "frontend_framework"
    type: "string"
    options: ["react", "vue", "svelte", "angular"]
    default: "react"
    description: "Frontend framework to use"
    
  - name: "backend_framework"
    type: "string"
    options: ["express", "nest", "fastify", "koa"]
    default: "express"
    description: "Backend framework to use"
    
  - name: "database"
    type: "string"
    options: ["postgres", "mysql", "mongodb", "sqlite"]
    default: "postgres"
    description: "Database to use"
    
  - name: "api_style"
    type: "string"
    options: ["rest", "graphql", "both"]
    default: "rest"
    description: "API style to use"
    
  - name: "authentication"
    type: "string"
    options: ["jwt", "session", "oauth"]
    default: "jwt"
    description: "Authentication method to use"
    
  - name: "deployment"
    type: "string"
    options: ["aws", "gcp", "azure", "vercel", "netlify", "heroku"]
    default: "aws"
    description: "Deployment target"

dependencies:
  - name: "typescript"
    version: "^5.0.0"
    dev: true
    
  - name: "eslint"
    version: "^8.0.0"
    dev: true
    
  - name: "prettier"
    version: "^3.0.0"
    dev: true
    
  - name: "jest"
    version: "^29.0.0"
    dev: true
    
  - name: "concurrently"
    version: "^8.0.0"
    dev: true

variables:
  - name: "year"
    value: "{{current_year}}"
    description: "Current year for license and copyright notices"
    
  - name: "node_version"
    value: "18.x"
    description: "Node.js version for the project"

files:
  - source: "template/frontend/react/**/*"
    target: "frontend/"
    condition: "frontend_framework === 'react'"
    
  - source: "template/frontend/vue/**/*"
    target: "frontend/"
    condition: "frontend_framework === 'vue'"
    
  - source: "template/frontend/svelte/**/*"
    target: "frontend/"
    condition: "frontend_framework === 'svelte'"
    
  - source: "template/frontend/angular/**/*"
    target: "frontend/"
    condition: "frontend_framework === 'angular'"
    
  - source: "template/backend/express/**/*"
    target: "backend/"
    condition: "backend_framework === 'express'"
    
  - source: "template/backend/nest/**/*"
    target: "backend/"
    condition: "backend_framework === 'nest'"
    
  - source: "template/backend/fastify/**/*"
    target: "backend/"
    condition: "backend_framework === 'fastify'"
    
  - source: "template/backend/koa/**/*"
    target: "backend/"
    condition: "backend_framework === 'koa'"
    
  - source: "template/database/postgres/**/*"
    target: "backend/database/"
    condition: "database === 'postgres'"
    
  - source: "template/database/mysql/**/*"
    target: "backend/database/"
    condition: "database === 'mysql'"
    
  - source: "template/database/mongodb/**/*"
    target: "backend/database/"
    condition: "database === 'mongodb'"
    
  - source: "template/database/sqlite/**/*"
    target: "backend/database/"
    condition: "database === 'sqlite'"
    
  - source: "template/api/rest/**/*"
    target: "backend/api/"
    condition: "api_style === 'rest' || api_style === 'both'"
    
  - source: "template/api/graphql/**/*"
    target: "backend/api/"
    condition: "api_style === 'graphql' || api_style === 'both'"
    
  - source: "template/auth/jwt/**/*"
    target: "backend/auth/"
    condition: "authentication === 'jwt'"
    
  - source: "template/auth/session/**/*"
    target: "backend/auth/"
    condition: "authentication === 'session'"
    
  - source: "template/auth/oauth/**/*"
    target: "backend/auth/"
    condition: "authentication === 'oauth'"
    
  - source: "template/deployment/aws/**/*"
    target: "deployment/"
    condition: "deployment === 'aws'"
    
  - source: "template/deployment/gcp/**/*"
    target: "deployment/"
    condition: "deployment === 'gcp'"
    
  - source: "template/deployment/azure/**/*"
    target: "deployment/"
    condition: "deployment === 'azure'"
    
  - source: "template/deployment/vercel/**/*"
    target: "deployment/"
    condition: "deployment === 'vercel'"
    
  - source: "template/deployment/netlify/**/*"
    target: "deployment/"
    condition: "deployment === 'netlify'"
    
  - source: "template/deployment/heroku/**/*"
    target: "deployment/"
    condition: "deployment === 'heroku'"
    
  - source: "template/shared/**/*"
    target: "shared/"
    condition: "true"
    
  - source: "template/scripts/**/*"
    target: "scripts/"
    condition: "true"
    
  - source: "template/.gitignore"
    target: ".gitignore"
    condition: "true"
    
  - source: "template/README.md"
    target: "README.md"
    condition: "true"
    
  - source: "template/package.json"
    target: "package.json"
    condition: "true"

hooks:
  post_generation:
    - command: "npm install"
      condition: "true"
      description: "Install dependencies"
      
    - command: "git init"
      condition: "true"
      description: "Initialize git repository"
      
    - command: "npm run setup"
      condition: "true"
      description: "Run setup script" 