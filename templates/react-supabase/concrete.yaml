name: "react-supabase"
version: "1.0.0"
inherits: "full-stack"
description: "A specialized template for building React applications with Supabase backend"
author: "Unforced"
license: "MIT"

customization_points:
  - name: "project_name"
    type: "string"
    default: "my-react-supabase-app"
    description: "Name of the project"
    
  - name: "description"
    type: "string"
    default: "A React application with Supabase backend"
    description: "Brief description of the project"
    
  - name: "author"
    type: "string"
    default: "Your Name"
    description: "Author of the project"
    
  - name: "license"
    type: "string"
    options: ["MIT", "Apache-2.0", "GPL-3.0", "BSD-3-Clause", "Unlicense"]
    default: "MIT"
    description: "License for the project"
    
  - name: "authentication"
    type: "string"
    options: ["email", "oauth", "passwordless"]
    default: "email"
    description: "Authentication method to use"
    
  - name: "styling"
    type: "string"
    options: ["styled-components", "tailwind", "css-modules"]
    default: "styled-components"
    description: "Styling approach to use"
    
  - name: "state_management"
    type: "string"
    options: ["context", "redux", "zustand"]
    default: "context"
    description: "State management approach to use"
    
  - name: "routing"
    type: "string"
    options: ["react-router", "tanstack-router"]
    default: "react-router"
    description: "Routing approach to use"
    
  - name: "testing"
    type: "string"
    options: ["vitest", "jest"]
    default: "vitest"
    description: "Testing approach to use"
    
  - name: "offline_support"
    type: "boolean"
    default: true
    description: "Whether to include offline support"
    
  - name: "pwa"
    type: "boolean"
    default: true
    description: "Whether to configure as a PWA"

dependencies:
  - name: "react"
    version: "^18.2.0"
    
  - name: "react-dom"
    version: "^18.2.0"
    
  - name: "@supabase/supabase-js"
    version: "^2.38.0"
    
  - name: "typescript"
    version: "^5.0.0"
    dev: true
    
  - name: "vite"
    version: "^4.5.0"
    dev: true
    
  - name: "@vitejs/plugin-react"
    version: "^4.0.0"
    dev: true
    
  - name: "vitest"
    version: "^0.34.0"
    dev: true
    condition: "testing === 'vitest'"
    
  - name: "jest"
    version: "^29.0.0"
    dev: true
    condition: "testing === 'jest'"
    
  - name: "@testing-library/react"
    version: "^14.0.0"
    dev: true
    
  - name: "@testing-library/jest-dom"
    version: "^6.0.0"
    dev: true
    
  - name: "styled-components"
    version: "^6.0.0"
    condition: "styling === 'styled-components'"
    
  - name: "tailwindcss"
    version: "^3.3.0"
    dev: true
    condition: "styling === 'tailwind'"
    
  - name: "react-router-dom"
    version: "^6.16.0"
    condition: "routing === 'react-router'"
    
  - name: "@tanstack/react-router"
    version: "^0.0.1-beta.194"
    condition: "routing === 'tanstack-router'"
    
  - name: "redux"
    version: "^4.2.0"
    condition: "state_management === 'redux'"
    
  - name: "react-redux"
    version: "^8.1.0"
    condition: "state_management === 'redux'"
    
  - name: "zustand"
    version: "^4.4.0"
    condition: "state_management === 'zustand'"
    
  - name: "workbox-window"
    version: "^7.0.0"
    condition: "offline_support === true"
    
  - name: "vite-plugin-pwa"
    version: "^0.16.0"
    dev: true
    condition: "pwa === true"

variables:
  - name: "year"
    value: "{{current_year}}"
    description: "Current year for license and copyright notices"
    
  - name: "node_version"
    value: "18.x"
    description: "Node.js version for the project"
    
  - name: "supabase_url"
    value: "https://your-project.supabase.co"
    description: "Supabase project URL"
    
  - name: "supabase_anon_key"
    value: "your-anon-key"
    description: "Supabase anonymous key"

files:
  - source: "template/src/components/auth/EmailAuth.tsx"
    target: "src/components/auth/EmailAuth.tsx"
    condition: "authentication === 'email'"
    
  - source: "template/src/components/auth/OAuthAuth.tsx"
    target: "src/components/auth/OAuthAuth.tsx"
    condition: "authentication === 'oauth'"
    
  - source: "template/src/components/auth/PasswordlessAuth.tsx"
    target: "src/components/auth/PasswordlessAuth.tsx"
    condition: "authentication === 'passwordless'"
    
  - source: "template/src/styles/StyledComponents.tsx"
    target: "src/styles/StyledComponents.tsx"
    condition: "styling === 'styled-components'"
    
  - source: "template/tailwind.config.js"
    target: "tailwind.config.js"
    condition: "styling === 'tailwind'"
    
  - source: "template/src/styles/global.css"
    target: "src/styles/global.css"
    condition: "styling === 'css-modules'"
    
  - source: "template/src/context/AppContext.tsx"
    target: "src/context/AppContext.tsx"
    condition: "state_management === 'context'"
    
  - source: "template/src/store/index.ts"
    target: "src/store/index.ts"
    condition: "state_management === 'redux'"
    
  - source: "template/src/store/zustand.ts"
    target: "src/store/zustand.ts"
    condition: "state_management === 'zustand'"
    
  - source: "template/src/router/react-router.tsx"
    target: "src/router/index.tsx"
    condition: "routing === 'react-router'"
    
  - source: "template/src/router/tanstack-router.tsx"
    target: "src/router/index.tsx"
    condition: "routing === 'tanstack-router'"
    
  - source: "template/vite.config.ts"
    target: "vite.config.ts"
    condition: "true"
    
  - source: "template/src/service-worker.ts"
    target: "src/service-worker.ts"
    condition: "offline_support === true"
    
  - source: "template/public/manifest.json"
    target: "public/manifest.json"
    condition: "pwa === true"
    
  - source: "template/supabase/migrations/initial-schema.sql"
    target: "supabase/migrations/initial-schema.sql"
    condition: "true"
    
  - source: "template/supabase/seed.sql"
    target: "supabase/seed.sql"
    condition: "true"

hooks:
  post_generation:
    - command: "npm install"
      condition: "true"
      description: "Install dependencies"
      
    - command: "git init"
      condition: "true"
      description: "Initialize git repository"
      
    - command: "npm run format"
      condition: "true"
      description: "Format code"
      
    - command: "npx supabase init"
      condition: "true"
      description: "Initialize Supabase project" 